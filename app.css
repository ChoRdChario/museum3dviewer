/* Minimal dark styles */
:root {
  --bg:#0f1115;
  --panel:#151923;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --acc:#3b82f6;
  --border:#1f2430;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif;
}

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 16px; border-bottom:1px solid var(--border);
}
.topbar h1{ font-size:14px; margin:0; font-weight:600; color:var(--muted); }
.tabs{ display:flex; gap:8px; align-items:center; }
.tab, .signin{
  background:transparent; color:var(--muted); border:1px solid var(--border);
  padding:6px 10px; border-radius:8px; cursor:pointer;
}
.tab.active{ color:var(--text); border-color:var(--acc) }

.appwrap{ display:grid; grid-template-columns: 1fr 360px; height:calc(100vh - 50px); }
.viewer{ position:relative; background:#0b0d12; }
#viewer-canvas{ width:100%; height:100%; display:block; }
.status{ position:absolute; left:16px; top:16px; color:#9ca3af; font-size:12px; }

.panel{ background:var(--panel); border-left:1px solid var(--border); padding:16px; overflow:auto; }
.panel .lbl{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
.input,.select,.textarea{
  width:100%; background:#0f1320; color:var(--text);
  border:1px solid var(--border); border-radius:8px; padding:8px 10px;
}
.textarea{ min-height:120px; resize:vertical; }

.row{ display:flex; align-items:center; }
.gap{ gap:8px; }
.flex{ flex:1; }
.mt{ margin-top:12px; }

.btn{
  background:var(--acc); color:white; border:none; border-radius:8px; padding:8px 10px;
  cursor:pointer;
}
.btn.subtle{ background:#0f1320; color:var(--text); border:1px solid var(--border); }
.btn:disabled{ opacity:.6; cursor:not-allowed; }

.colorrow{ display:flex; gap:8px; }
.dot{
  --c:#fff;
  width:18px; height:18px; border-radius:999px; border:2px solid #0008;
  background:var(--c); cursor:pointer;
}
.dot.active{ outline:2px solid var(--acc); }

.panel-section{ display:none; }
.panel-section.active{ display:block; }

.muted{ color:var(--muted); font-size:13px; }

/* --- LociMyu v6.7: caption list selection & image row --- */
#caption-list .caption-item.is-selected,
#caption-list .caption-item[aria-selected="true"]{
  background: rgba(255,255,255,0.06);
  border-left: 3px solid var(--acc);
}
#caption-image-row{
  display:flex; gap:10px; align-items:center; margin-top:8px;
}
#currentImageThumb{
  width:56px; height:56px; border-radius:8px; border:1px solid var(--border);
  display:flex; align-items:center; justify-content:center; overflow:hidden;
  background:#0b0f18;
}
#currentImageThumb img{ width:100%; height:100%; object-fit:cover; display:block; }
#currentImageThumb .placeholder{ font-size:11px; color:var(--muted); }



/* ==== Stronger Attach/Detach UX ==== */
#images-grid { position: relative; display:grid; grid-template-columns: repeat(auto-fill, minmax(120px,1fr)); gap:10px; }
.thumb { position: relative; border-radius: 10px; overflow: hidden; background:#111; }
.thumb img { width:100%; height:100%; object-fit:cover; display:block; }
.thumb .btn-x {
  position:absolute; top:6px; right:6px; z-index:2;
  width:24px; height:24px; border-radius:999px; display:grid; place-items:center;
  background:rgba(0,0,0,.65); color:#f3f4f6; border:1px solid rgba(255,255,255,.25);
  font-weight:800; font-size:14px; line-height:1; opacity:0; transition:opacity .12s ease; cursor:pointer;
}
.thumb:hover .btn-x { opacity:1; }
.thumb.is-active {
  outline:2px solid var(--accent, #60a5fa); outline-offset:2px;
  box-shadow: 0 0 0 2px rgba(96,165,250,.25) inset, 0 0 0 1px rgba(0,0,0,.6);
}
.thumb.is-active::after{
  content:"âœ“"; position:absolute; left:6px; top:6px; z-index:2;
  width:22px; height:22px; border-radius:999px; display:grid; place-items:center;
  background:#10b981; color:#fff; font-weight:800; font-size:13px;
}
/* small toast for saved status */
.save-toast {
  position:fixed; bottom:14px; right:14px; z-index:99999;
  background:rgba(17,24,39,.9); color:#e5e7eb; padding:8px 12px; border:1px solid #334155; border-radius:8px; font:12px/1.4 ui-sans-serif,system-ui;
  transform:translateY(20px); opacity:0; transition:.18s ease;
}
.save-toast.show { transform:translateY(0); opacity:1; }
