:root{
  --bg:#0f1116; --panel:#141824; --muted:#848aa1; --text:#e9ecf1; --accent:#6ea8ff;
  --chip:#2a2f3f; --chipOn:#40507a; --line:#22283a;
}
*{box-sizing:border-box}
html,body,#app{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:14px/1.6 system-ui, -apple-system, Segoe UI, Roboto, sans-serif}

#app{display:grid;grid-template-columns:1fr 360px;gap:0}
#stageWrap{position:relative}
#stage{position:absolute;inset:0}
#spinner{position:absolute;inset:auto 16px 16px auto;background:#0008;padding:6px 10px;border-radius:8px}

#side{background:var(--panel);height:100%;display:flex;flex-direction:column}
#topbar{display:flex;align-items:center;justify-content:space-between;padding:8px;border-bottom:1px solid var(--line)}
#tabs{display:flex;gap:6px}
.tab{background:transparent;border:0;color:var(--muted);padding:6px 10px;border-radius:8px;cursor:pointer}
.tab.is-active{background:var(--chipOn);color:#fff}
.chip{background:var(--chip);color:#fff;border:0;border-radius:999px;padding:6px 10px;cursor:pointer}

.panel{display:none;padding:10px 10px 18px;overflow:auto}
.panel.is-active{display:block}

.label{color:var(--muted);font-size:12px;margin:10px 0 4px}
.label.mini{font-size:11px;margin-top:4px}
.field .text{width:100%;padding:8px;border-radius:8px;border:1px solid var(--line);background:#0e1220;color:var(--text)}
textarea.text{min-height:100px;resize:vertical}
.field .row{display:flex;gap:8px;align-items:center}
.row.end{justify-content:flex-end}
.input-row{display:flex;gap:8px}
.input-row input[type=text]{flex:1}

.btn{background:#2b3857;border:0;color:#fff;border-radius:8px;padding:8px 10px;cursor:pointer}
.btn.btn-s{padding:6px 8px}
.btn:active{transform:translateY(1px)}

.chips-row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.color{width:18px;height:18px;border-radius:999px;border:2px solid #0004;display:inline-block;cursor:pointer}
.color.is-active{outline:2px solid var(--accent)}

.filters-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.check{display:flex;gap:4px;align-items:center;color:#cfd3e0;font-size:12px}
.filter-colors{display:flex;gap:8px;align-items:center}

.list{height:220px;border:1px solid var(--line);border-radius:8px;overflow:auto;background:#0e1220}
.item{display:grid;grid-template-columns:18px 1fr auto;gap:8px;align-items:center;padding:6px 8px;border-bottom:1px solid #0c1122}
.item:last-child{border-bottom:0}
.item .dot{width:12px;height:12px;border-radius:999px;border:2px solid #0006}
.item .title{font-weight:600}
.item .del{background:#492c3a;color:#fff;border:0;border-radius:6px;padding:4px 6px;cursor:pointer}
