export function mountOverlay({ bus, store }){const el=document.getElementById('overlay');const t=document.getElementById('ov-t');const b=document.getElementById('ov-b');const i=document.getElementById('ov-i');function show(c){t.textContent=c.title||'';b.textContent=c.body||'';if(c.img){i.src=c.img;i.style.display='block';}else{i.style.display='none';}el.style.display='block';}function hide(){el.style.display='none';}bus.on('pin:selected',(id)=>{if(!id){hide();return;}const p=store.state.pins.find(p=>p.id===id);if(!p){hide();return;}show(p.caption||{});});bus.on('overlay:show',show);bus.on('overlay:hide',hide);}