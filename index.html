<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GLB Caption Tool</title>
  <link rel="stylesheet" href="./app.css" />
  <!-- favicon intentionally omitted to avoid 404 -->
</head>
<body>
  <header class="topbar">
    <h1>GLB Caption Tool</h1>
    <nav class="tabs" id="tabs">
      <button class="tab active" data-tab="captions" id="tab-captions">Captions</button>
      <button class="tab" data-tab="materials" id="tab-materials">Materials</button>
      <button class="tab" data-tab="views" id="tab-views">Views</button>
      <button class="signin" id="btnSign">Sign in</button>
    </nav>
  </header>

  <main class="appwrap">
    <section class="viewer" id="viewer-host">
      <canvas id="viewer-canvas"></canvas>
      <div id="viewer-status" class="status">ready</div>
    </section>

    <aside class="panel">
      <div class="panel-section active" data-panel="captions">
        <label class="lbl">Drive: GLB file ID or URL</label>
        <div class="row gap">
          <input id="glbInput" class="input flex" placeholder="https://drive.google.com/... or fileId" />
          <button id="btnDrive" class="btn subtle" title="Google Drive picker (later)">Drive...</button>
        </div>
        <div class="row gap mt">
          <button id="btnLoadGlb" class="btn">Load GLB</button>
          <button id="btnRefreshImages" class="btn subtle">Refresh Images</button>
        </div>

        <div class="mt">
          <label class="lbl">Save data</label>
          <select id="saveTarget" class="select">
            <option value="pins" selected>Pins</option>
          </select>
        </div>

        <div class="mt">
          <label class="lbl">Pin</label>
          <div class="colorrow" id="pinColors">
            <button class="dot" data-color="#60a5fa" style="--c:#60a5fa;"></button>
            <button class="dot" data-color="#22c55e" style="--c:#22c55e;"></button>
            <button class="dot" data-color="#f59e0b" style="--c:#f59e0b;"></button>
            <button class="dot" data-color="#a855f7" style="--c:#a855f7;"></button>
            <button class="dot" data-color="#ef4444" style="--c:#ef4444;"></button>
            <button class="dot" data-color="#9ca3af" style="--c:#9ca3af;"></button>
          </div>
        </div>

        <div class="mt">
          <label class="lbl">Filter</label>
          <select id="pinFilter" class="select">
            <option value="all">(All)</option>
          </select>
        </div>

        <div class="mt">
          <label class="lbl">Caption list</label>
          <textarea id="captionList" class="textarea" placeholder="-"></textarea>
        </div>

        <div class="mt">
          <label class="lbl">Title / Body</label>
          <input id="capTitle" class="input" placeholder="Title" />
          <textarea id="capBody" class="textarea" placeholder="Body"></textarea>
        </div>

        <div class="row gap mt">
          <button id="btnAddPin" class="btn">+ Pin</button>
          <button id="btnClear" class="btn subtle">Clear</button>
          <button id="btnRefresh" class="btn subtle">Refresh images</button>
        </div>
      </div>

      <div class="panel-section" data-panel="materials">
        <p class="muted">Materials tab (coming soon)</p>
      </div>

      <div class="panel-section" data-panel="views">
        <p class="muted">Views tab (coming soon)</p>
      </div>
    </aside>
  </main>

  <!-- THREE from CDN (global THREE) -->
  <script src="https://unpkg.com/three@0.150.1/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.150.1/examples/js/controls/OrbitControls.js"></script>

  <!-- App scripts -->
  <script src="./viewer.js"></script>
  <script src="./app_boot.js"></script>
</body>
</html>
