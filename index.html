<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LociMyu v6.6</title>
  <link rel="stylesheet" href="./app.css">
</head>
<body>
  <div id="app">
    <!-- 左：3Dステージ -->
    <div id="stageWrap">
      <div id="stage" aria-label="stage"></div>
      <div id="spinner" hidden>Loading…</div>
    </div>

    <!-- 右：サイドバー -->
    <aside id="side">
      <header id="topbar">
        <nav id="tabs">
          <button class="tab is-active" data-tab="caption">Caption</button>
          <button class="tab" data-tab="material">Material</button>
          <button class="tab" data-tab="view">View</button>
        </nav>
        <button id="authChip" class="chip">Sign in</button>
      </header>

      <!-- Caption -->
      <section class="panel is-active" id="tab-caption" role="tabpanel">
        <div class="field row">
          <label class="label">Drive File ID or URL</label>
          <div class="input-row">
            <input id="fileIdInput" type="text" placeholder="https://drive.google.com/... or fileId" />
            <button id="btnGLB" class="btn btn-s">GLB</button>
          </div>
        </div>

        <div class="field row">
          <label class="label">?id=&lt;fileId&gt; または demo（デモモデル）</label>
          <div class="input-row">
            <select id="saveTarget">
              <option value="Pins">Pins</option>
            </select>
            <button id="btnAddSave" class="btn btn-s">+</button>
          </div>
        </div>

        <div class="field">
          <div class="label">Pin</div>
          <div id="pinPalette" class="chips-row"></div>
          <div class="label mini">color</div>
          <div id="pinFilter" class="filters-row">
            <label class="check"><input type="checkbox" id="filterAll" checked /> <span>All</span></label>
            <div id="filterColors" class="filter-colors"></div>
          </div>
        </div>

        <div class="field">
          <div class="label">Caption list</div>
          <div id="capList" class="list"></div>
        </div>

        <div class="field">
          <div class="label">Title / Body</div>
          <input id="capTitle" class="text" placeholder="Title" />
          <textarea id="capBody" class="text" placeholder="Body"></textarea>

          <div class="row end">
            <button id="btnAddPin" class="btn">+ Pin</button>
            <button id="btnRefreshImages" class="btn">Refresh images</button>
          </div>
        </div>
      </section>

      <!-- Material -->
      <section class="panel" id="tab-material" role="tabpanel">
        <div class="field">
          <label class="label">Surface color</label>
          <input type="color" id="matColor" value="#cccccc"/>
        </div>
        <div class="field">
          <label class="label">Metalness</label>
          <input type="range" id="matMetal" min="0" max="1" step="0.01" value="0"/>
        </div>
        <div class="field">
          <label class="label">Roughness</label>
          <input type="range" id="matRough" min="0" max="1" step="0.01" value="1"/>
        </div>
      </section>

      <!-- View -->
      <section class="panel" id="tab-view" role="tabpanel">
        <div class="field">
          <div class="label">Background</div>
          <div id="bgColors" class="chips-row"></div>
        </div>
        <div class="field">
          <button id="btnProj" class="btn">Perspective</button>
        </div>
      </section>
    </aside>
  </div>

  <!-- 起動 -->
  <script type="module" src="./app_boot.js"></script>
</body>
</html>
