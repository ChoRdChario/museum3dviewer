
:root{
  --bg:#1f2124; --fg:#e8e8ea; --muted:#a7aab1; --accent:#6ea8fe;
  --panel:#2a2d31; --line:#3a3d42; --danger:#e35d6a; --ok:#51cf66;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial; background:var(--bg); color:var(--fg)}
.topbar{display:flex; align-items:center; justify-content:space-between; padding:.5rem .75rem; border-bottom:1px solid var(--line); background:var(--panel); position:sticky; top:0; z-index:10}
.brand{font-weight:700}
.top-actions{display:flex; gap:.5rem; align-items:center}

.layout{display:grid; grid-template-columns: 1fr 380px; height:calc(100vh - 48px)}
.viewer-pane{position:relative; border-right:1px solid var(--line)}
.viewer{position:absolute; inset:0;}
.overlay{position:absolute; inset:0; display:flex; gap:.5rem; flex-direction:column; align-items:center; justify-content:center; background:#0009}
.overlay.hidden{display:none}
.spinner{width:36px;height:36px;border:4px solid #fff3;border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

.desk-pane{overflow:auto; padding:.75rem; background:var(--panel)}
.block{padding:.5rem; border:1px solid var(--line); border-radius:10px; margin-bottom:.75rem}
.row{display:flex; gap:.5rem; align-items:center; margin:.5rem 0}
.row.small label{margin-right:.5rem}
.row input[type="text"], .row input[type="number"], .row input[type="range"], input, textarea, select{flex:1; background:#15171a; color:var(--fg); border:1px solid var(--line); border-radius:8px; padding:.4rem .6rem}
.row input[type="range"]{flex:unset; width:160px}
.grid-2{display:grid; grid-template-columns:1fr 1fr; gap:.5rem}
.grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.5rem}

.btn{background:#2f3236; color:var(--fg); border:1px solid var(--line); border-radius:10px; padding:.4rem .6rem; cursor:pointer}
.btn:hover{background:#383c41}
.btn.primary{background:var(--accent); color:#0b1220; border:none}
.btn.danger{background:var(--danger); color:#fff; border:none}
.btn.link{background:transparent; border:none; color:var(--accent); text-decoration:underline}
.btn.small{font-size:.9rem; padding:.3rem .5rem}

.tabs{display:flex; gap:.25rem; margin-bottom:.5rem}
.tab-btn{flex:1; border-bottom:2px solid transparent}
.tab-btn.active{border-color:var(--accent)}
.tab{display:none}
.tab.active{display:block}

.caption-pane{display:grid; grid-template-columns: 180px 1fr; gap:.5rem}
.caption-list{border:1px solid var(--line); border-radius:10px; overflow:auto; max-height:280px; padding:.25rem}
.caption-item{padding:.35rem .5rem; border-radius:8px; cursor:pointer}
.caption-item.active, .caption-item:hover{background:#3a3d42}

.hint{opacity:.8; font-size:.9rem}

.bottombar{display:none; position:fixed; bottom:0; left:0; right:0; background:var(--panel); border-top:1px solid var(--line); padding:.35rem; display:flex; gap:.35rem; justify-content:space-around}

.mobile-only{display:none}

@media (max-width: 900px){
  .layout{grid-template-columns: 1fr}
  .desk-pane{display:none}
  .mobile-only{display:flex}
}
